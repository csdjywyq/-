## 变量声明和变量定义

- 变量定义：用于为变量分配存储空间，还可为变量指定初始值。程序中，变量有且仅有一个定义。

- 变量声明：用于向程序表明变量的类型和名字。

- 定义也是声明，extern声明不是定义。

- 定义也是声明：当定义变量时我们声明了它的类型和名字。

- extern声明不是定义：通过使用extern关键字声明变量名而不定义它。 

  > [注意] 
  > 变量在使用前就要被定义或者声明。 
  > 在一个程序中，变量只能定义一次，却可以声明多次。 
  > 定义分配存储空间，而声明不会。

C++程序通常由许多文件组成，为了让多个文件访问相同的变量，C++区分了声明和定义。

变量的定义（definition）用于为变量分配存储空间，还可以为变量指定初始值。在程序中，变量有且仅有一个定义。

声明（declaration）用于向程序表明变量的类型和名字。定义也是声明：当定义变量的时候我们声明了它的类型和名字。可以通过使用extern声明变量名而不定义它。不定义变量的声明包括对象名、对象类型和对象类型前的关键字extern。

extern声明不是定义，也不分配存储空间。事实上它只是说明变量定义在程序的其他地方。程序中变量可以声明多次，但只能定义一次。

只有当声明也是定义时，声明才可以有初始化式，因为只有定义才分配存储空间。初始化式必须要有存储空间来进行初始化。如果声明有初始化式，那么它可被当作是定义，即使声明标记为extern。

任何在多文件中使用的变量都需要有与定义分离的声明。在这种情况下，一个文件含有变量的定义，使用该变量的其他文件则包含该变量的声明（而不是定义）。

## 如何清晰的区分变量声明和定义

### extern通知编译器变量在其他地方被定义

extern告诉编译器变量在其他地方定义了。

例如：

```c
extern int i;       //声明，不是定义
int i;              //声明，也是定义，未初始化
```

### 带有初始化式的声明必定式定义

如果声明有初始化式，就被当作定义，即使前面加了extern。 

只有当extern声明位于函数外部时，才可以被初始化。

例如：
```c
extern double pi=3.141592654;  //定义
```
### 函数的声明和定义

函数的声明和定义区别比较简单，带有{ }的就是定义，否则就是声明。

例如：

```c
extern double max(double d1,double d2);  //声明
```

### 除非有extern关键字，否则都是变量的定义。

除非有extern关键字，否则都是变量的定义。

例如：

```c
extern int i; //声明
int i; //定义 
```